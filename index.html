<!DOCTYPE html>
<html lang="it" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"content="width=device-width,initial-scale=1.0">
    <title>Sapere Aude · Metodo di studio | Dolores Lullo</title>

    <meta name="description" content="Sapere Aude è il percorso di metodo di studio e pensiero critico curato da Dolores Lullo, dottoressa in Filosofia. Aiuta studenti e genitori a trasformare studio caotico in risultati stabili, dalle elementari all’università.">

    <!-- OG basic -->
    <meta property="og:title" content="Sapere Aude · Metodo di studio | Dolores Lullo">
    <meta property="og:description" content="Percorsi di metodo di studio e pensiero critico: dalle elementari all’università, per studenti e genitori che vogliono smettere di rincorrere compiti, verifiche ed esami.">
    <meta property="og:type" content="website">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">

    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Alpine.js -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <!-- Tailwind config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        cream: '#FDF6EF',
                        petrol: '#13424B',
                        coral: '#C24A3A',
                        coralHover: '#A83E30',
                        accent: '#F3B27C',
                        surface: '#FFFBF7'
                    },
                    fontFamily: {
                        serif: ['Playfair Display', 'serif'],
                        sans: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <style>
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #FDF6EF; }
        ::-webkit-scrollbar-thumb { background: #F3B27C; border-radius: 4px; }

        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        [x-cloak] { display: none !important; }
    </style>
</head>
<body class="bg-cream text-petrol font-sans antialiased selection:bg-accent selection:text-petrol"
      x-data="studyMethodApp()" x-init="init()" x-cloak>

    <!-- HEADER -->
    <header class="fixed top-0 w-full z-50 bg-cream/90 backdrop-blur-sm py-4 border-b border-petrol/5 transition-all duration-300">
        <div class="container mx-auto px-6 flex justify-between items-center">
            <!-- Logo wordmark -->
            <button type="button"
                    class="flex items-center gap-2 group"
                    @click="window.scrollTo({ top: 0, behavior: 'smooth' })">
                <div class="font-serif text-2xl md:text-3xl font-semibold tracking-tight text-petrol group-hover:text-coral transition-colors">
                    <span>Sapere</span>
                    <span class="relative inline-block">
                        <span class="px-1 rounded-sm border-b-2 border-accent group-hover:border-coral transition-colors">
                            Aude
                        </span>
                    </span>
                </div>
            </button>

            <a href="#contatto"
               class="hidden md:inline-flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.18em] text-petrol/80 hover:text-coral transition-colors">
                <span>Prenota la prima sessione</span>
                <span class="w-2 h-2 rounded-full bg-coral/80"></span>
            </a>
        </div>
    </header>

    <!-- MAIN -->
    <main class="pt-20">

        <!-- HERO -->
        <section class="min-h-[80vh] flex flex-col justify-center items-center text-center px-6 relative overflow-hidden">
            <!-- decorazioni -->
            <div class="absolute top-1/4 left-10 w-64 h-64 bg-accent/10 rounded-full blur-3xl -z-10"></div>
            <div class="absolute bottom-1/4 right-10 w-80 h-80 bg-petrol/5 rounded-full blur-3xl -z-10"></div>

            <h1 class="font-serif text-5xl md:text-7xl font-medium leading-tight mb-8 max-w-4xl mx-auto text-petrol">
                Il problema è capire… <br>
                <span class="italic text-coral">o ricordare?</span>
            </h1>

            <p class="text-lg md:text-xl text-petrol/80 max-w-2xl mx-auto mb-12 font-light">
                In pochi passaggi capiamo se il blocco è nei contenuti, nel metodo o nella gestione dell’ansia. Senza giudizi, con un percorso chiaro.
            </p>

            <!-- Selezione ruolo -->
            <div class="flex flex-col md:flex-row gap-4 w-full max-w-xl mb-6">
                <button
                    @click="setRole('genitore')"
                    :class="role === 'genitore'
                        ? 'bg-petrol text-cream ring-4 ring-accent/30'
                        : 'bg-white text-petrol border border-petrol/20 hover:border-coral hover:text-coral'"
                    class="flex-1 py-5 px-8 rounded-lg text-lg font-medium transition-all duration-300 shadow-sm">
                    Sono un Genitore
                </button>
                <button
                    @click="setRole('studente')"
                    :class="role === 'studente'
                        ? 'bg-petrol text-cream ring-4 ring-accent/30'
                        : 'bg-white text-petrol border border-petrol/20 hover:border-coral hover:text-coral'"
                    class="flex-1 py-5 px-8 rounded-lg text-lg font-medium transition-all duration-300 shadow-sm">
                    Sono uno Studente
                </button>
            </div>

            <p class="text-xs tracking-[0.2em] uppercase text-petrol/60">
                1 • Scegli chi sei · 2 • Scegli il livello · 3 • Racconti dove ti blocchi
            </p>
        </section>

        <!-- SELEZIONE LIVELLO (subito dopo ruolo) -->
        <section id="level-select" class="py-16 md:py-20 px-6 border-t border-petrol/5 bg-surface/60">
            <div class="container mx-auto max-w-4xl">
                <div class="text-center mb-10">
                    <p class="text-xs font-semibold tracking-[0.22em] uppercase text-petrol/60 mb-3">
                        Passo 2 · Livello di studio
                    </p>
                    <h2 class="font-serif text-3xl md:text-4xl text-petrol mb-3">
                        Per chi è questo percorso?
                    </h2>
                    <p class="text-petrol/70 max-w-2xl mx-auto text-sm md:text-base">
                        Seleziona il livello scolastico attuale. Da qui in poi il linguaggio e gli esempi saranno cuciti su questa scelta.
                    </p>
                </div>

                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 max-w-3xl mx-auto">
                    <button
                        @click="setLevel('elementari')"
                        :class="selectedLevel === 'elementari'
                            ? 'bg-petrol text-cream border-petrol shadow-lg scale-[1.02]'
                            : 'bg-white text-petrol border border-petrol/15 hover:border-coral hover:text-coral'"
                        class="py-4 px-3 rounded-xl text-center text-sm font-medium transition-all duration-200">
                        <span class="block text-[0.7rem] uppercase tracking-[0.18em] text-petrol/50 mb-1">LIVELLO</span>
                        <span class="font-serif text-lg">Elementari</span>
                    </button>

                    <button
                        @click="setLevel('medie')"
                        :class="selectedLevel === 'medie'
                            ? 'bg-petrol text-cream border-petrol shadow-lg scale-[1.02]'
                            : 'bg-white text-petrol border border-petrol/15 hover:border-coral hover:text-coral'"
                        class="py-4 px-3 rounded-xl text-center text-sm font-medium transition-all duration-200">
                        <span class="block text-[0.7rem] uppercase tracking-[0.18em] text-petrol/50 mb-1">LIVELLO</span>
                        <span class="font-serif text-lg">Medie</span>
                    </button>

                    <button
                        @click="setLevel('superiori')"
                        :class="selectedLevel === 'superiori'
                            ? 'bg-petrol text-cream border-petrol shadow-lg scale-[1.02]'
                            : 'bg-white text-petrol border border-petrol/15 hover:border-coral hover:text-coral'"
                        class="py-4 px-3 rounded-xl text-center text-sm font-medium transition-all duration-200">
                        <span class="block text-[0.7rem] uppercase tracking-[0.18em] text-petrol/50 mb-1">LIVELLO</span>
                        <span class="font-serif text-lg">Superiori</span>
                    </button>

                    <button
                        @click="setLevel('universita')"
                        :class="selectedLevel === 'universita'
                            ? 'bg-petrol text-cream border-petrol shadow-lg scale-[1.02]'
                            : 'bg-white text-petrol border border-petrol/15 hover:border-coral hover:text-coral'"
                        class="py-4 px-3 rounded-xl text-center text-sm font-medium transition-all duration-200">
                        <span class="block text-[0.7rem] uppercase tracking-[0.18em] text-petrol/50 mb-1">LIVELLO</span>
                        <span class="font-serif text-lg">Università</span>
                    </button>
                </div>

                <p class="mt-6 text-xs text-center text-petrol/60">
                    Le prossime sezioni si adatteranno a <span x-text="levelLabelForHuman() || 'il livello che scegli'"></span>.
                </p>
            </div>
        </section>

        <!-- BLOCCO DOMANDE & FLOW: visibile solo se ruolo + livello -->
        <div x-show="role && selectedLevel"
             x-transition:enter="transition ease-out duration-700"
             x-transition:enter-start="opacity-0 translate-y-10"
             x-transition:enter-end="opacity-100 translate-y-0">

            <!-- SEZIONE 2: DOVE TI BLOCCHI -->
            <section id="step-blocks" class="py-20 md:py-28 px-6">
                <div class="container mx-auto max-w-6xl grid md:grid-cols-2 gap-16 items-start">
                    <!-- colonna sinistra: scelte -->
                    <div>
                        <p class="text-xs font-semibold tracking-[0.22em] uppercase text-petrol/60 mb-3">
                            Passo 3 · Blocchi nello studio
                        </p>
                        <h2 class="font-serif text-4xl md:text-5xl mb-4 text-petrol">
                            <span x-text="role === 'genitore'
                                ? 'Dove si blocca di più tuo figlio quando studia?'
                                : 'Dove ti blocchi di più quando studi?'"></span>
                        </h2>
                        <p class="text-petrol/60 mb-8 uppercase tracking-[0.18em] text-xs font-semibold">
                            Puoi selezionare una o più opzioni
                        </p>

                        <div class="flex flex-col gap-3">
                            <template x-for="item in blocksOptions" :key="item.id">
                                <button
                                    @click="toggleSelection('blocks', item.id)"
                                    :class="selectedBlocks.includes(item.id)
                                        ? 'bg-coral text-white border-coral shadow-lg scale-[1.02]'
                                        : 'bg-transparent border-petrol/30 text-petrol hover:border-coral hover:text-coral'"
                                    class="text-left py-4 px-6 rounded-full border transition-all duration-200 flex items-center justify-between group">
                                    <span class="font-medium text-lg" x-text="item.label"></span>
                                    <span x-show="selectedBlocks.includes(item.id)" class="text-xl">✓</span>
                                </button>
                            </template>
                        </div>
                    </div>

                    <!-- colonna destra: insight -->
                    <div class="sticky top-32 bg-white p-8 md:p-10 rounded-2xl shadow-xl border border-petrol/5 min-h-[320px] flex flex-col justify-center relative overflow-hidden">
                        <div class="absolute top-0 right-0 w-32 h-32 bg-accent/20 rounded-bl-full -z-0"></div>

                        <template x-if="selectedBlocks.length === 0">
                            <div class="text-center text-petrol/50 relative z-10">
                                <svg class="w-12 h-12 mx-auto mb-4 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                          d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                                <p>Seleziona almeno un blocco per vedere cosa succede di solito e come posso intervenire.</p>
                            </div>
                        </template>

                        <template x-if="selectedBlocks.length > 0">
                            <div class="relative z-10" x-transition.opacity>
                                <span class="text-xs font-bold tracking-[0.24em] text-coral uppercase mb-2 block">
                                    Cosa succede di solito
                                </span>
                                <h3 class="font-serif text-2xl mb-4 text-petrol" x-text="currentBlockTitle"></h3>
                                <ul class="space-y-2 mb-8">
                                    <template x-for="(point, idx) in currentBlockSymptoms" :key="idx">
                                        <li class="flex items-start gap-3 text-petrol/80">
                                            <span class="text-coral mt-1.5 text-xs">●</span>
                                            <span x-text="point"></span>
                                        </li>
                                    </template>
                                </ul>

                                <div class="border-t border-petrol/10 pt-6">
                                    <span class="text-xs font-bold tracking-[0.24em] text-petrol/60 uppercase mb-2 block">
                                        Il mio intervento
                                    </span>
                                    <p class="text-petrol italic font-serif text-lg leading-relaxed"
                                       x-text="currentBlockSolution"></p>
                                </div>
                            </div>
                        </template>
                    </div>
                </div>
            </section>

            <!-- SEZIONE 3: COSA HAI GIÀ PROVATO -->
            <section class="py-20 bg-surface border-y border-petrol/5">
                <div class="container mx-auto max-w-4xl px-6 text-center">
                    <p class="text-xs font-semibold tracking-[0.22em] uppercase text-petrol/60 mb-3">
                        Passo 4 · Tentativi precedenti
                    </p>
                    <h2 class="font-serif text-3xl md:text-4xl mb-10 text-petrol">
                        <span x-text="role === 'genitore'
                            ? 'Cosa avete già provato per migliorare la situazione?'
                            : 'Cosa hai già provato per migliorare la situazione?'"></span>
                    </h2>

                    <div class="flex flex-wrap justify-center gap-3 mb-12">
                        <template x-for="attempt in attemptsOptions" :key="attempt">
                            <button
                                @click="toggleAttempts(attempt)"
                                :class="selectedAttempts.includes(attempt)
                                    ? 'bg-petrol text-white border-petrol'
                                    : 'bg-white border-petrol/20 text-petrol/70 hover:border-petrol hover:text-petrol'"
                                class="py-3 px-6 rounded-full border transition-all duration-200 font-medium text-sm md:text-base">
                                <span x-text="attempt"></span>
                            </button>
                        </template>
                    </div>

                    <div class="bg-cream p-8 rounded-xl border border-petrol/10 max-w-2xl mx-auto"
                         x-show="selectedAttempts.length > 0" x-transition>
                        <span class="text-xs font-bold tracking-[0.24em] uppercase text-petrol/60 mb-2 block">
                            Che cosa significa in pratica
                        </span>
                        <p class="text-lg font-serif italic text-petrol" x-text="attemptsCopy"></p>
                    </div>
                </div>
            </section>

            <!-- SEZIONE 4: OBIETTIVI -->
            <section class="py-20 md:py-28 px-6">
                <div class="container mx-auto max-w-5xl">
                    <p class="text-xs font-semibold tracking-[0.22em] uppercase text-petrol/60 mb-3 text-center">
                        Passo 5 · Obiettivi
                    </p>
                    <h2 class="font-serif text-4xl md:text-5xl mb-12 text-center text-petrol">
                        <span x-text="role === 'genitore'
                            ? 'Fra 2–3 mesi, cosa vorresti fosse diverso per tuo figlio?'
                            : 'Fra 2–3 mesi, cosa vorresti fosse diverso per te?'"></span>
                    </h2>

                    <div class="grid md:grid-cols-2 gap-4">
                        <template x-for="goal in goalsOptions" :key="goal.id">
                            <button
                                @click="toggleSelection('goals', goal.id)"
                                :class="selectedGoals.includes(goal.id)
                                    ? 'bg-accent/20 border-accent'
                                    : 'bg-white border-petrol/10 hover:border-accent'"
                                class="text-left p-6 rounded-xl border transition-all duration-200 h-full flex flex-col justify-between group hover:shadow-md">
                                <div>
                                    <span class="block font-serif text-xl mb-2 group-hover:text-coral transition-colors"
                                          x-text="goal.label"></span>
                                </div>
                                <div class="mt-4 pt-4 border-t border-petrol/5">
                                    <span class="text-[10px] text-petrol/60 uppercase tracking-[0.2em] font-bold">
                                        Obiettivo concreto
                                    </span>
                                    <p class="text-sm mt-1 text-petrol font-medium" x-text="goal.promise"></p>
                                </div>
                            </button>
                        </template>
                    </div>
                </div>
            </section>

            <!-- SEZIONE 5: METODO -->
            <section class="py-24 bg-petrol text-cream px-6 relative overflow-hidden">
                <div class="absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-5"></div>

                <div class="container mx-auto max-w-6xl relative z-10">
                    <div class="text-center mb-16">
                        <p class="text-xs font-semibold tracking-[0.24em] uppercase text-cream/60 mb-3">
                            Metodo
                        </p>
                        <h2 class="font-serif text-4xl md:text-6xl mb-6 text-surface">
                            Non faccio solo ripetizioni. <br>
                            <span class="text-accent italic">Alleno il modo di pensare.</span>
                        </h2>
                        <p class="text-xl text-cream/80 max-w-2xl mx-auto font-light"
                           x-text="role === 'genitore'
                                ? 'Così tuo figlio non impara solo la lezione di domani, ma un metodo che resta anche quando cambi materia e insegnante.'
                                : 'Così non vivi più col panico di dimenticare tutto dopo l’esame: il metodo resta, le prove cambiano.'"></p>
                    </div>

                    <div class="grid md:grid-cols-3 gap-8 text-center md:text-left relative">
                        <div class="hidden md:block absolute top-8 left-0 w-full h-0.5 bg-accent/20 -z-0"></div>

                        <div class="relative bg-petrol p-6 pt-0">
                            <div class="w-16 h-16 bg-petrol border-2 border-accent text-accent rounded-full flex items-center justify-center text-2xl font-serif font-bold mb-6 mx-auto md:mx-0 relative z-10">
                                1
                            </div>
                            <h3 class="text-2xl font-serif text-accent mb-4">Capire</h3>
                            <p class="text-cream/70 leading-relaxed">
                                Individuiamo dove si inceppa il ragionamento: sul testo, sull’ascolto, sull’attenzione o sulla memoria. Guardiamo il processo, non solo il voto.
                            </p>
                        </div>

                        <div class="relative bg-petrol p-6 pt-0">
                            <div class="w-16 h-16 bg-petrol border-2 border-accent text-accent rounded-full flex items-center justify-center text-2xl font-serif font-bold mb-6 mx-auto md:mx-0 relative z-10">
                                2
                            </div>
                            <h3 class="text-2xl font-serif text-accent mb-4">Riorganizzare</h3>
                            <p class="text-cream/70 leading-relaxed">
                                Costruiamo un metodo su misura: mappe, domande guida, schemi logici e tempi realistici in base al livello e al carico di studio reale.
                            </p>
                        </div>

                        <div class="relative bg-petrol p-6 pt-0">
                            <div class="w-16 h-16 bg-petrol border-2 border-accent text-accent rounded-full flex items-center justify-center text-2xl font-serif font-bold mb-6 mx-auto md:mx-0 relative z-10">
                                3
                            </div>
                            <h3 class="text-2xl font-serif text-accent mb-4">Allenare</h3>
                            <p class="text-cream/70 leading-relaxed">
                                Alleniamo l’esposizione: spiegare a voce, rispondere a domande, scrivere in modo chiaro. Simuliamo le prove per ridurre l’ansia e aumentare sicurezza.
                            </p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SEZIONE 6: PERCORSO SPECIFICO PER LIVELLO -->
            <section class="py-24 px-6 bg-cream border-t border-petrol/5" x-show="selectedLevel">
                <div class="container mx-auto max-w-5xl">
                    <div class="text-center mb-12">
                        <p class="text-xs font-semibold tracking-[0.22em] uppercase text-petrol/60 mb-3">
                            Il tuo livello
                        </p>
                        <h2 class="font-serif text-3xl md:text-4xl text-petrol mb-4">
                            <span x-show="selectedLevel === 'elementari'">Come lavoro con bambini delle elementari</span>
                            <span x-show="selectedLevel === 'medie'">Come lavoro con ragazzi delle medie</span>
                            <span x-show="selectedLevel === 'superiori'">Come lavoro con studenti delle superiori</span>
                            <span x-show="selectedLevel === 'universita'">Come lavoro con studenti universitari</span>
                        </h2>
                        <p class="text-petrol/70 max-w-2xl mx-auto text-sm md:text-base">
                            Il metodo è sempre lo stesso: pensiero chiaro e strutturato. Cambiano gli strumenti, il linguaggio e gli obiettivi in base all’età e al tipo di prove che devi affrontare.
                        </p>
                    </div>

                    <!-- Elementari -->
                    <template x-if="selectedLevel === 'elementari'">
                        <div class="bg-white p-8 md:p-10 rounded-2xl shadow-sm border border-petrol/5">
                            <p class="text-xs font-semibold tracking-[0.22em] uppercase text-petrol/50 mb-3">
                                Elementari · basi e fiducia
                            </p>
                            <h3 class="font-serif text-2xl md:text-3xl text-petrol mb-4">
                                Compiti meno conflittuali, lettura più sicura.
                            </h3>
                            <p class="text-petrol/75 mb-6 text-sm md:text-base">
                                Lavoro molto sulla comprensione del testo, sulla lettura ad alta voce e sul ridurre il conflitto quotidiano sui compiti. A questa età conta più costruire fiducia che “riempire” il pomeriggio di esercizi.
                            </p>
                            <ul class="space-y-2 text-sm text-petrol/80">
                                <li>• Aiuto compiti in tutte le materie umanistiche.</li>
                                <li>• Sviluppo delle abilità di lettura, scrittura e comprensione.</li>
                                <li>• Giochi e attività per trasformare la curiosità in attenzione.</li>
                            </ul>
                        </div>
                    </template>

                    <!-- Medie -->
                    <template x-if="selectedLevel === 'medie'">
                        <div class="bg-white p-8 md:p-10 rounded-2xl shadow-sm border border-petrol/5">
                            <p class="text-xs font-semibold tracking-[0.22em] uppercase text-petrol/50 mb-3">
                                Medie · dal “memorizzo” al “capisco”
                            </p>
                            <h3 class="font-serif text-2xl md:text-3xl text-petrol mb-4">
                                Testi lunghi, sintesi, verifiche senza panico.
                            </h3>
                            <p class="text-petrol/75 mb-6 text-sm md:text-base">
                                Qui l’obiettivo è far passare lo studente dal ripetere a memoria al capire cosa sta leggendo. Strutturiamo metodo, mappe, domande guida e un’organizzazione realistica del tempo.
                            </p>
                            <ul class="space-y-2 text-sm text-petrol/80">
                                <li>• Umanistiche: Italiano, Storia, Geografia, Letteratura.</li>
                                <li>• Tecniche di sintesi e schemi per testi più lunghi.</li>
                                <li>• Preparazione mirata a verifiche e interrogazioni.</li>
                            </ul>
                        </div>
                    </template>

                    <!-- Superiori -->
                    <template x-if="selectedLevel === 'superiori'">
                        <div class="bg-white p-8 md:p-10 rounded-2xl shadow-sm border border-petrol/5">
                            <p class="text-xs font-semibold tracking-[0.22em] uppercase text-petrol/50 mb-3">
                                Superiori · pensiero critico e maturità
                            </p>
                            <h3 class="font-serif text-2xl md:text-3xl text-petrol mb-4">
                                Filosofia, Storia e maturità senza naufragare.
                            </h3>
                            <p class="text-petrol/75 mb-6 text-sm md:text-base">
                                Lavoriamo su Filosofia e Storia, ma soprattutto su come argomentare, collegare concetti, scrivere e preparare interrogazioni ed esami senza arrivare sempre “al limite”.
                            </p>
                            <ul class="space-y-2 text-sm text-petrol/80">
                                <li>• Ripetizioni di Filosofia e Storia.</li>
                                <li>• Preparazione a verifiche, interrogazioni ed esame di maturità.</li>
                                <li>• Supporto per tesine e percorsi multidisciplinari.</li>
                            </ul>
                        </div>
                    </template>

                    <!-- Università -->
                    <template x-if="selectedLevel === 'universita'">
                        <div class="bg-white p-8 md:p-10 rounded-2xl shadow-sm border border-petrol/5">
                            <p class="text-xs font-semibold tracking-[0.22em] uppercase text-petrol/50 mb-3">
                                Università · esami, tesi, pensiero avanzato
                            </p>
                            <h3 class="font-serif text-2xl md:text-3xl text-petrol mb-4">
                                Testi difficili, esami orali e scrittura di tesi.
                            </h3>
                            <p class="text-petrol/75 mb-6 text-sm md:text-base">
                                Lavoriamo su testi complessi, articoli accademici, manuali estesi e sulla capacità di trasformare tutto questo in esposizione chiara, esami sostenuti con sicurezza e tesi che hanno una struttura logica solida.
                            </p>
                            <ul class="space-y-2 text-sm text-petrol/80">
                                <li>• Esami di Filosofia, Storia, Etica e discipline umanistiche affini.</li>
                                <li>• Supporto nella lettura critica di testi e nella preparazione orale.</li>
                                <li>• Accompagnamento nella stesura di tesi e tesine, dalla struttura alla revisione.</li>
                            </ul>
                        </div>
                    </template>
                </div>
            </section>

            <!-- SEZIONE 7: PRIMA SESSIONE -->
            <section id="prima-sessione-info" class="py-20 bg-surface border-t border-petrol/10 px-6">
                <div class="container mx-auto max-w-4xl text-center">
                    <p class="text-xs font-semibold tracking-[0.22em] uppercase text-petrol/60 mb-3">
                        Prima sessione gratuita
                    </p>
                    <h2 class="font-serif text-3xl md:text-5xl mb-12 text-petrol">
                        La prima sessione è gratuita,<br> ma non è una chiacchierata a caso.
                    </h2>

                    <div class="grid md:grid-cols-2 gap-8 text-left max-w-3xl mx-auto mb-12">
                        <div class="flex gap-4">
                            <div class="w-10 h-10 rounded-full bg-coral/10 flex items-center justify-center text-coral shrink-0">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                          d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
                                </svg>
                            </div>
                            <div>
                                <h4 class="font-bold text-petrol">Analisi reale</h4>
                                <p class="text-petrol/70 text-sm">
                                    Guardiamo insieme voti, tempo di studio, tipo di prove (compiti, verifiche, esami) e dove si blocca davvero il processo.
                                </p>
                            </div>
                        </div>

                        <div class="flex gap-4">
                            <div class="w-10 h-10 rounded-full bg-coral/10 flex items-center justify-center text-coral shrink-0">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                          d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                          d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                                </svg>
                            </div>
                            <div>
                                <h4 class="font-bold text-petrol">Test sul campo</h4>
                                <p class="text-petrol/70 text-sm">
                                    Ti vedo affrontare un testo o un esercizio dal vivo, per capire come ragioni, cosa salti e cosa ti pesa di più.
                                </p>
                            </div>
                        </div>

                        <div class="flex gap-4">
                            <div class="w-10 h-10 rounded-full bg-coral/10 flex items-center justify-center text-coral shrink-0">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                          d="M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"></path>
                                </svg>
                            </div>
                            <div>
                                <h4 class="font-bold text-petrol">Intervento pratico</h4>
                                <p class="text-petrol/70 text-sm">
                                    Lavoriamo subito su un blocco specifico, così hai da subito un’esperienza concreta del metodo.
                                </p>
                            </div>
                        </div>

                        <div class="flex gap-4">
                            <div class="w-10 h-10 rounded-full bg-coral/10 flex items-center justify-center text-coral shrink-0">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                          d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                            </div>
                            <div>
                                <h4 class="font-bold text-petrol">Mini-piano</h4>
                                <p class="text-petrol/70 text-sm">
                                    Definiamo insieme obiettivi realistici e una durata stimata del percorso, così sai da subito a cosa vai incontro.
                                </p>
                            </div>
                        </div>
                    </div>

                    <button @click="scrollToForm()" class="bg-coral text-white py-4 px-10 rounded-lg text-xl font-medium shadow-lg hover:bg-coralHover hover:-translate-y-1 transition-all">
                        Prenota la prima sessione gratuita
                    </button>
                </div>
            </section>

            <!-- SEZIONE 8: FORM CONTATTO -->
            <section id="contatto" class="py-24 px-6 bg-white">
                <div class="container mx-auto max-w-2xl">
                    <div class="text-center mb-10">
                        <p class="text-xs font-semibold tracking-[0.22em] uppercase text-petrol/60 mb-3">
                            Contatto
                        </p>
                        <h2 class="font-serif text-4xl text-petrol mb-4">
                            Parlami del tuo caso in 60 secondi.
                        </h2>
                        <p class="text-petrol/60 text-sm md:text-base">
                            Alcuni campi sono già compilati in base alle tue scelte. Se vuoi, puoi modificarli o aggiungere dettagli.
                        </p>
                    </div>

                    <form class="space-y-6" @submit.prevent="submitForm">
                        <div class="grid md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-xs font-bold uppercase text-petrol/50 mb-1">Chi sei</label>
                                <input type="text"
                                       :value="role === 'genitore' ? 'Genitore' : 'Studente'"
                                       disabled
                                       class="w-full p-3 bg-cream border border-petrol/10 rounded text-petrol font-medium cursor-not-allowed">
                            </div>

                            <div>
                                <label class="block text-xs font-bold uppercase text-petrol/50 mb-1">Livello di studio</label>
                                <select x-model="selectedLevel"
                                        class="w-full p-3 bg-surface border border-petrol/20 rounded text-petrol focus:border-coral focus:ring-1 focus:ring-coral outline-none">
                                    <option value="">Seleziona livello...</option>
                                    <option value="elementari">Elementari</option>
                                    <option value="medie">Medie</option>
                                    <option value="superiori">Superiori</option>
                                    <option value="universita">Università</option>
                                </select>
                            </div>
                        </div>

                        <div>
                            <label class="block text-xs font-bold uppercase text-petrol/50 mb-1">Principali difficoltà</label>
                            <textarea rows="3"
                                      x-model="formProblems"
                                      class="w-full p-3 bg-surface border border-petrol/20 rounded text-petrol focus:border-coral focus:ring-1 focus:ring-coral outline-none placeholder-petrol/30"
                                      placeholder="Es. Testi lunghi che non restano in testa, difficoltà a organizzare il tempo, blocco quando devo scrivere..."></textarea>
                            <p class="text-xs text-petrol/40 mt-1 text-right">
                                Testo suggerito dalle tue scelte. Se vuoi, aggiungi materia, classe/anno ed esempi concreti delle difficoltà.
                            </p>
                        </div>

                        <div>
                            <label class="block text-xs font-bold uppercase text-petrol/50 mb-1">Obiettivo principale</label>
                            <input type="text"
                                   x-model="formGoal"
                                   class="w-full p-3 bg-surface border border-petrol/20 rounded text-petrol focus:border-coral focus:ring-1 focus:ring-coral outline-none"
                                   placeholder="Es. Meno ansia alle verifiche / esami, più autonomia nello studio, voti più stabili...">
                        </div>

                        <div class="grid md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-xs font-bold uppercase text-petrol/50 mb-1">Nome</label>
                                <input type="text" required
                                       class="w-full p-3 bg-surface border border-petrol/20 rounded text-petrol focus:border-coral focus:ring-1 focus:ring-coral outline-none">
                            </div>
                            <div>
                                <label class="block text-xs font-bold uppercase text-petrol/50 mb-1">Email o Telefono</label>
                                <input type="text" required
                                       class="w-full p-3 bg-surface border border-petrol/20 rounded text-petrol focus:border-coral focus:ring-1 focus:ring-coral outline-none">
                            </div>
                        </div>

                        <button type="submit"
                                class="w-full bg-petrol text-white py-4 rounded-lg font-medium text-lg hover:bg-petrol/90 transition-all shadow-lg mt-4">
                            Invia richiesta per la prima sessione
                        </button>
                    </form>

                    <div class="mt-12 text-center pt-10 border-t border-petrol/10">
                        <p class="mb-4 text-petrol/70 text-sm">
                            Preferisci scrivermi direttamente?
                        </p>
                        <a :href="whatsappLink" target="_blank"
                           class="inline-flex items-center gap-2 text-green-600 font-bold hover:underline text-lg">
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.463 1.065 2.876 1.213 3.074.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/>
                            </svg>
                            Scrivimi su WhatsApp
                        </a>
                    </div>
                </div>
            </section>
        </div>

        <!-- STICKY CTA -->
        <div x-show="showStickyCTA && role && selectedLevel"
             x-transition:enter="transition ease-out duration-300"
             x-transition:enter-start="opacity-0 translate-y-20"
             x-transition:enter-end="opacity-100 translate-y-0"
             class="fixed bottom-6 right-6 z-40 flex flex-col items-end">
            <div x-show="selectedBlocks.length > 0"
                 class="bg-petrol text-white text-xs py-1 px-3 rounded-t-lg mb-0 shadow-lg w-fit max-w-[220px] truncate">
                Focus: <span x-text="getStickySummary()"></span>
            </div>

            <button @click="scrollToForm()"
                    class="bg-coral hover:bg-coralHover text-white font-bold py-3 px-6 rounded-l-xl rounded-br-xl shadow-2xl flex items-center gap-3 transition-all hover:scale-105">
                <span>Prenota una prima sessione</span>
                <span class="text-xs font-normal opacity-80 block"
                      x-text="role === 'genitore' ? 'per tuo figlio' : 'per il tuo studio'"></span>
            </button>
        </div>
    </main>

    <!-- FOOTER -->
    <footer class="bg-petrol text-cream/60 py-10 px-6 text-center text-sm mt-10">
        <p class="font-serif text-xl text-cream mb-1">Dolores Lullo</p>
        <p class="text-cream/80 text-xs md:text-sm mb-3">
            Dottoressa in Filosofia · Specializzata in Filosofia della Scienza e Logica
        </p>
        <p class="text-[0.75rem] md:text-xs">
            © 2025 · Sapere Aude – Percorsi di metodo di studio e pensiero critico.
        </p>
    </footer>

    <!-- LOGICA ALPINE -->
    <script>
        function studyMethodApp() {
            return {
                role: null,
                selectedLevel: '',
                selectedBlocks: [],
                selectedAttempts: [],
                selectedGoals: [],
                showStickyCTA: false,
                formProblems: '',
                formGoal: '',

                blocksOptions: [
                    { id: 'capire', label: 'Capire i testi complessi' },
                    { id: 'organizzare', label: 'Organizzare tempo e studio' },
                    { id: 'verifiche', label: 'Preparare verifiche / esami' },
                    { id: 'scrivere', label: 'Scrivere in modo chiaro (temi, saggi, tesi)' }
                ],

                // Blocchi singoli: titolo e sintomi per genitore/studente (lessico neutro rispetto al livello)
                blocksInfoSingles: {
                    capire: {
                        titleParent: 'Fa fatica a capire davvero quello che legge',
                        titleStudent: 'Fai fatica a capire davvero quello che leggi',
                        symptomsParent: [
                            'Legge, ma non riesce a spiegare con parole sue cosa ha appena letto.',
                            'Si perde nei passaggi importanti e fatica a distinguere idee centrali da dettagli.',
                            'Arriva in fondo al paragrafo con la sensazione di non aver capito quasi nulla.'
                        ],
                        symptomsStudent: [
                            'Leggi, ma fai fatica a spiegare con parole tue cosa hai appena letto.',
                            'Ti perdi nei passaggi importanti e non distingui più cosa è centrale e cosa è dettaglio.',
                            'Arrivi alla fine del paragrafo con la sensazione di non aver davvero afferrato il senso.'
                        ],
                        solutionParent: 'Lavoriamo sul modo in cui affronta i testi: impariamo a smontarli, trovare i nodi centrali e ricostruire il discorso in modo semplice e chiaro.',
                        solutionStudent: 'Lavoriamo su come affronti i testi: impari a smontarli, trovare i punti centrali e ricostruire il discorso in modo più semplice e chiaro.'
                    },
                    organizzare: {
                        titleParent: 'Studia tanto, ma senza una vera organizzazione',
                        titleStudent: 'Studi tanto, ma senza una vera organizzazione',
                        symptomsParent: [
                            'Passa molte ore sui libri, ma con risultati altalenanti.',
                            'Si riduce spesso all’ultimo momento, con sprint di studio poco sostenibili.',
                            'Non ha un piano chiaro: alterna giornate di super-sforzo a giornate di rinuncia.'
                        ],
                        symptomsStudent: [
                            'Passi tante ore sui libri, ma i risultati non sono proporzionati alla fatica.',
                            'Ti riduci spesso all’ultimo momento, con maratone di studio che non puoi reggere a lungo.',
                            'Non hai un piano chiaro: alterni giornate in cui ti massacri a giornate in cui molli del tutto.'
                        ],
                        solutionParent: 'Costruiamo un metodo organizzativo concreto: tempi realistici, priorità chiare e un ritmo di studio che non dipende solo dall’urgenza della prossima prova.',
                        solutionStudent: 'Costruiamo un metodo organizzativo concreto: tempi realistici, priorità chiare e un ritmo di studio che non dipende solo dall’ansia della prossima prova.'
                    },
                    verifiche: {
                        titleParent: 'Sembra preparato, ma davanti alla prova si blocca',
                        titleStudent: 'Ti senti preparato, ma davanti alla prova ti blocchi',
                        symptomsParent: [
                            'A casa sembra sapere le cose, ma al momento della prova va in tilt.',
                            'L’ansia lo porta a dimenticare proprio ciò che aveva ripassato più volte.',
                            'Dopo ogni prova esce con la sensazione di non essere riuscito a mostrare quello che sapeva.'
                        ],
                        symptomsStudent: [
                            'A casa ti sembra di sapere, ma al momento della prova ti blocchi.',
                            'L’ansia ti fa dimenticare proprio gli argomenti che avevi ripassato di più.',
                            'Dopo ogni prova hai la sensazione di non aver mostrato davvero ciò che avevi in testa.'
                        ],
                        solutionParent: 'Simuliamo le prove in un contesto protetto: impariamo a gestire tempo, domande e tensione, così il giorno della prova non è la prima volta che affronta quella situazione.',
                        solutionStudent: 'Simuliamo le prove in modo strutturato: impari a gestire tempo, tipo di domande e tensione, così il giorno della prova non è mai una sorpresa totale.'
                    },
                    scrivere: {
                        titleParent: 'Quando deve scrivere, si blocca o si perde',
                        titleStudent: 'Quando devi scrivere, ti blocchi o ti perdi',
                        symptomsParent: [
                            'Davanti al foglio fatica a iniziare: non sa da dove cominciare.',
                            'Le frasi risultano lunghe, contorte o poco chiare.',
                            'Fa fatica a passare dalle idee in testa a un testo ordinato e leggibile.'
                        ],
                        symptomsStudent: [
                            'Davanti al foglio fai fatica a iniziare: non sai da dove cominciare.',
                            'Le frasi diventano lunghe, contorte, e ti sembra di non dire davvero ciò che pensi.',
                            'Fai fatica a trasformare le idee che hai in testa in un testo ordinato e leggibile.'
                        ],
                        solutionParent: 'Partiamo dalla struttura: prima costruiamo la scaletta logica, poi la trasformiamo in testo. Così la scrittura non è più un salto nel vuoto.',
                        solutionStudent: 'Partiamo dalla struttura: prima costruiamo una scaletta logica, poi la trasformiamo in testo. In questo modo la scrittura non è più un salto nel vuoto.'
                    }
                },

                // Combinazioni di blocchi
                blocksInfoCombos: {
                    'capire_organizzare': {
                        titleParent: 'Studia tanto, capisce poco e si perde nel caos',
                        titleStudent: 'Studi tanto, capisci poco e ti perdi nel caos',
                        symptomsParent: [
                            'Quando prova a studiare da solo, si blocca già sui testi e questo rallenta tutto.',
                            'Più tempo impiega a capire, meno ne resta per organizzare il resto dello studio.',
                            'Ne deriva un ciclo: fatica, confusione, ritardo e senso di frustrazione.'
                        ],
                        symptomsStudent: [
                            'Quando studi da solo ti blocchi già sui testi e questo rallenta tutto il resto.',
                            'Più tempo impieghi a capire, meno ne hai per organizzare lo studio in modo sensato.',
                            'Finisci spesso in un ciclo di fatica, confusione, ritardo e frustrazione.'
                        ],
                        solutionParent: 'Interveniamo sia sul modo di leggere che sull’organizzazione: da una parte rendiamo i testi più gestibili, dall’altra costruiamo un piano che non crolla alla prima difficoltà.',
                        solutionStudent: 'Interveniamo sia sul modo in cui affronti i testi sia sulla tua organizzazione: rendiamo la lettura più gestibile e lo studio meno caotico, con un piano che regge nel tempo.'
                    },
                    'capire_verifiche': {
                        titleParent: 'Capisce “a metà” e alle prove questo si vede',
                        titleStudent: 'Capisci “a metà” e alle prove questo si vede',
                        symptomsParent: [
                            'Durante lo studio sembra aver capito, ma alla prova emergono zone d’ombra.',
                            'Si concentra su dettagli secondari e trascura le strutture principali.',
                            'I risultati oscillano molto, proprio perché la comprensione non è davvero solida.'
                        ],
                        symptomsStudent: [
                            'Mentre studi ti sembra di capire, ma alle prove emergono punti poco chiari.',
                            'Ti ritrovi spesso a ricordare esempi o frasi, ma non la struttura del discorso.',
                            'I risultati oscillano: alcune prove vanno bene, altre crollano senza che tu ne capisca il motivo.'
                        ],
                        solutionParent: 'Rendiamo più solida la comprensione prima delle prove: lavoriamo su mappe, domande chiave e collegamenti, così le prove non si basano su una comprensione fragile.',
                        solutionStudent: 'Rendiamo più solida la comprensione prima delle prove: lavoriamo su mappe, domande chiave e collegamenti, così le prove non si basano più su una comprensione “a metà”.'
                    },
                    'capire_scrivere': {
                        titleParent: 'Capire è faticoso, scrivere diventa quasi impossibile',
                        titleStudent: 'Capire è faticoso, scrivere diventa quasi impossibile',
                        symptomsParent: [
                            'Se già capire richiede molta energia, quando deve scrivere arriva esausto.',
                            'Fa fatica a mettere in ordine le idee: il testo risulta frammentato.',
                            'La scrittura non restituisce davvero ciò che ha capito, e questo pesa sui risultati.'
                        ],
                        symptomsStudent: [
                            'Se capire ti costa tanta energia, quando devi scrivere arrivi già stanco.',
                            'Ti sembra di avere idee sparse, ma non riesci a metterle in ordine sulla pagina.',
                            'Quello che scrivi non rende davvero ciò che hai capito, e questo si riflette sui risultati.'
                        ],
                        solutionParent: 'Prima alleggeriamo il momento della comprensione, poi costruiamo una struttura di scrittura chiara. Così la scrittura non è più un “secondo ostacolo” dopo la fatica di capire.',
                        solutionStudent: 'Prima rendiamo più gestibile la comprensione, poi costruiamo una struttura di scrittura chiara. In questo modo scrivere smette di essere il “secondo muro” dopo la lettura.'
                    },
                    'organizzare_verifiche': {
                        titleParent: 'Arriva sempre alle prove con il fiato corto',
                        titleStudent: 'Arrivi sempre alle prove con il fiato corto',
                        symptomsParent: [
                            'Sa che ci sono prove in arrivo, ma inizia a prepararsi troppo tardi.',
                            'Concentra lo sforzo a ridosso della prova, aumentando ansia e stanchezza.',
                            'Anche quando va bene, la sensazione è di aver “sopravvissuto”, non di aver gestito.'
                        ],
                        symptomsStudent: [
                            'Sai che le prove stanno arrivando, ma inizi a prepararti quando sei già in ritardo.',
                            'Concentri lo sforzo negli ultimi giorni, con ansia alta e poca lucidità.',
                            'Anche quando ti va bene, hai la sensazione di aver retto per miracolo, non di aver gestito davvero.'
                        ],
                        solutionParent: 'Costruiamo una pianificazione che tiene conto delle prove future in modo realistico, così non dipende tutto dagli ultimi giorni.',
                        solutionStudent: 'Costruiamo una pianificazione che tenga conto delle prove e del resto della tua vita, così non arrivi più sempre “all’ultimo”.'
                    },
                    'organizzare_scrivere': {
                        titleParent: 'Rinvia scrittura e studio finché non è troppo tardi',
                        titleStudent: 'Rinvi studio e scrittura finché è troppo tardi',
                        symptomsParent: [
                            'Procrastina i compiti scritti perché richiedono più energia mentale.',
                            'Si ritrova spesso con più consegne e prove ravvicinate, gestite tutte in emergenza.',
                            'Questo crea un circolo vizioso: più ritarda, più l’ansia cresce.'
                        ],
                        symptomsStudent: [
                            'Rinvi i compiti scritti perché sai che richiedono più energia mentale.',
                            'Ti ritrovi spesso con più consegne e prove ravvicinate da gestire tutte insieme.',
                            'Più rimandi, più cresce l’ansia, e più è difficile iniziare davvero.'
                        ],
                        solutionParent: 'Smontiamo i compiti scritti in micro-passaggi e li distribuiamo nel tempo, così non diventano più una “montagna” da scalare tutta in una volta.',
                        solutionStudent: 'Smontiamo i compiti scritti in passi piccoli e li distribuiamo nel tempo, così non diventano più una montagna unica e ingestibile.'
                    },
                    'verifiche_scrivere': {
                        titleParent: 'Paura delle prove e blocco davanti al testo',
                        titleStudent: 'Paura delle prove e blocco davanti al testo',
                        symptomsParent: [
                            'Le prove orali o scritte lo mettono in forte agitazione.',
                            'Davanti a un compito scritto si irrigidisce, come se non sapesse da dove partire.',
                            'Questo mix di ansia e blocco pesa molto sulla sua autostima.'
                        ],
                        symptomsStudent: [
                            'Le prove orali o scritte ti mettono in forte agitazione.',
                            'Davanti a un compito scritto ti blocchi, come se non sapessi da dove partire.',
                            'Questo mix di ansia e blocco finisce per buttare giù anche la tua autostima.'
                        ],
                        solutionParent: 'Alleniamo il modo di affrontare sia le prove sia la scrittura: preparazione concreta, simulazioni e focus sulla costruzione di sicurezza, non solo sul voto.',
                        solutionStudent: 'Alleniamo il modo in cui affronti sia le prove sia la scrittura: preparazione concreta, simulazioni e lavoro mirato sulla sicurezza, non solo sul risultato finale.'
                    },
                    'capire_organizzare_verifiche': {
                        titleParent: 'Comprensione fragile, caos organizzativo e prove vissute come minacce',
                        titleStudent: 'Comprensione fragile, caos organizzativo e prove vissute come minacce',
                        symptomsParent: [
                            'Fa fatica a capire, si organizza in ritardo e vive ogni prova come un salto nel vuoto.',
                            'Il tempo non basta mai, perché parte in ritardo e con contenuti poco solidi.',
                            'Ogni prova negativa conferma l’idea di “non essere portato”, minando la motivazione.'
                        ],
                        symptomsStudent: [
                            'Fai fatica a capire, ti organizzi tardi e vivi ogni prova come un salto nel vuoto.',
                            'Hai spesso la sensazione che il tempo non basti mai e che tu parta sempre in svantaggio.',
                            'Ogni prova che va male sembra confermare che “non sei portato”, e questo pesa sulla motivazione.'
                        ],
                        solutionParent: 'Lavoriamo su tre fronti: come capire, come organizzarsi e come preparare le prove. L’obiettivo non è solo “andare meglio”, ma cambiare il modo in cui vive lo studio.',
                        solutionStudent: 'Lavoriamo in parallelo su come capire, come organizzarti e come preparare le prove. Non si tratta solo di “andare meglio”, ma di cambiare il modo in cui vivi lo studio.'
                    },
                    'capire_organizzare_scrivere': {
                        titleParent: 'Capire costa energia, organizzarsi è difficile, scrivere diventa l’ultimo problema',
                        titleStudent: 'Capire costa energia, organizzarti è difficile, scrivere è l’ultimo ostacolo',
                        symptomsParent: [
                            'Si stanca già nella fase di studio e non resta energia per scrivere con calma.',
                            'Rinvia la scrittura finché non è sotto scadenza.',
                            'Il risultato è un lavoro che non rispecchia il suo reale potenziale.'
                        ],
                        symptomsStudent: [
                            'Ti stanchi già nella fase di studio e arrivi alla scrittura con poca lucidità.',
                            'Rinvi spesso la parte scritta finché non sei a ridosso della consegna.',
                            'Sai di poter fare meglio, ma il risultato finale non rende il tuo potenziale.'
                        ],
                        solutionParent: 'Ridisegniamo il flusso: prima costruiamo un modo più leggero di capire, poi un’organizzazione sostenibile e infine una struttura chiara per la scrittura.',
                        solutionStudent: 'Ridisegniamo il flusso di studio: rendiamo più gestibile la comprensione, organizziamo meglio il tempo e diamo una struttura chiara alla parte scritta.'
                    },
                    'capire_verifiche_scrivere': {
                        titleParent: 'Fatica a capire, paura delle prove e blocco davanti al testo',
                        titleStudent: 'Fatica a capire, paura delle prove e blocco davanti al testo',
                        symptomsParent: [
                            'I testi risultano pesanti e faticosi da affrontare.',
                            'Le prove generano ansia perché non si sente mai davvero pronto.',
                            'Quando deve scrivere, il blocco aumenta: teme di non riuscire a mettere in ordine ciò che ha in testa.'
                        ],
                        symptomsStudent: [
                            'I testi ti sembrano pesanti e difficili da afferrare.',
                            'Le prove ti mettono in agitazione perché non ti senti mai davvero pronto.',
                            'Quando devi scrivere, il blocco cresce: temi di non riuscire a mettere in ordine ciò che hai in testa.'
                        ],
                        solutionParent: 'Procediamo per passi: prima alleggeriamo la comprensione, poi lavoriamo su come arrivare alle prove, infine diamo una struttura concreta alla scrittura.',
                        solutionStudent: 'Procediamo per passi: prima rendiamo più gestibile la comprensione, poi lavoriamo su come prepararti alle prove e infine costruiamo una struttura chiara per la scrittura.'
                    },
                    'organizzare_verifiche_scrivere': {
                        titleParent: 'Procrastina, arriva in emergenza e la scrittura ne paga il prezzo',
                        titleStudent: 'Procrastini, arrivi in emergenza e la scrittura ne paga il prezzo',
                        symptomsParent: [
                            'Rimanda studio e scrittura finché non è troppo vicino alla prova.',
                            'Si ritrova a improvvisare sia sui contenuti sia sulla forma.',
                            'Questo crea un loop di fatica, risultati altalenanti e senso di inadeguatezza.'
                        ],
                        symptomsStudent: [
                            'Rimandi studio e scrittura finché non sei troppo vicino alla prova.',
                            'Ti ritrovi a improvvisare sia sui contenuti sia sul modo di esporli.',
                            'Questo alimenta un ciclo di fatica, risultati altalenanti e frustrazione.'
                        ],
                        solutionParent: 'Introduciamo una struttura di lavoro a blocchi piccoli e distribuiti nel tempo, in cui studio e scrittura non arrivano mai tutti insieme all’ultimo.',
                        solutionStudent: 'Introduciamo una struttura di lavoro più distribuita, in cui studio e scrittura non esplodono tutti insieme negli ultimi giorni.'
                    },
                    'capire_organizzare_verifiche_scrivere': {
                        titleParent: 'Sistema di studio frammentato: tanta fatica, poca resa',
                        titleStudent: 'Sistema di studio frammentato: tanta fatica, poca resa',
                        symptomsParent: [
                            'Fatica a capire i testi, quindi ha bisogno di più tempo di quanto ne ha davvero.',
                            'Non avendo un metodo, si ritrova sempre in affanno tra studio, prove e consegne scritte.',
                            'Ogni prova diventa una piccola emergenza e lo studio non costruisce basi solide nel tempo.'
                        ],
                        symptomsStudent: [
                            'Ti sembra che ogni testo sia una salita ripida, e questo ti ruba tempo ed energia.',
                            'Senza un metodo chiaro, rincorri studio, prove e consegne scritte senza mai sentirti davvero in controllo.',
                            'Ogni prova diventa un’emergenza e hai la sensazione di faticare tantissimo senza costruire fondamenta stabili.'
                        ],
                        solutionParent: 'Ricostruiamo l’intero sistema di studio: comprensione, organizzazione, preparazione alle prove e scrittura. Non si tratta di “mettere più impegno”, ma di cambiare l’architettura del suo modo di studiare.',
                        solutionStudent: 'Ricostruiamo l’intero sistema di studio: comprensione, organizzazione, preparazione alle prove e scrittura. Non si tratta di “metterci più forza di volontà”, ma di cambiare la struttura con cui studi.'
                    }
                },

                // Tentativi già fatti
                attemptsOptions: [
                    'Ripetizioni generiche',
                    'Studiare più ore',
                    'Schemi fai-da-te',
                    'Nulla, improvvisiamo'
                ],

                attemptsMap: {
                    'Ripetizioni generiche': 'R',
                    'Studiare più ore': 'S',
                    'Schemi fai-da-te': 'H',
                    'Nulla, improvvisiamo': 'N'
                },

                attemptsTexts: {
                    'R': {
                        parent: 'Avete già provato le ripetizioni “classiche”: qualcuno che spiega la lezione, lui o lei che ascolta e ripete. Di solito funziona un po’ all’inizio, ma il problema è che, appena finisce il percorso, il metodo di studio resta identico a prima.',
                        student: 'Hai già provato le ripetizioni “classiche”: qualcuno spiega, tu ascolti e ripeti. Funziona finché qualcuno ti tiene per mano, ma poi, quando torni da solo sui libri, il metodo resta quello di sempre.'
                    },
                    'S': {
                        parent: 'Avete pensato che la soluzione fosse “studiare di più”: più tempo alla scrivania, più pagine, più ripetizioni. Ma se il metodo non cambia, aumentare le ore spesso aumenta solo stanchezza e frustrazione.',
                        student: 'Hai provato a risolverla “mettendoci più ore”: resti di più sui libri, ripeti di più, ti forzi di più. Se però il modo di studiare non cambia, spesso aumenta solo la fatica, non la resa.'
                    },
                    'H': {
                        parent: 'Avete provato con schemi, evidenziatori e appunti fai-da-te. Utile, ma se non c’è una logica dietro, rischiano di diventare solo “disegni colorati” che non chiariscono davvero le idee.',
                        student: 'Hai provato con schemi, evidenziatori, appunti e colori. Utile, ma se non c’è una struttura chiara dietro, rischiano di diventare solo pagine piene di segni che non ti guidano davvero.'
                    },
                    'RS': {
                        parent: 'Avete unito ripetizioni e più ore di studio: più spiegazioni, più tempo, più impegno. Il problema è che, se il modo di pensare i contenuti non cambia, si crea solo un aumento di carico, non di controllo.',
                        student: 'Hai sommato ripetizioni e più ore: qualcuno che spiega, tu che ci stai sopra più tempo. Se però il modo in cui organizzi e capisci non cambia, la sensazione è sempre quella di rincorrere.'
                    },
                    'RH': {
                        parent: 'Ripetizioni + schemi fai-da-te: buona volontà c’è, ma spesso manca una regia. Ognuno aggiunge qualcosa, ma nessuno mette ordine nel quadro generale del metodo.',
                        student: 'Hai messo insieme ripetizioni e schemi: ascolti, sottolinei, fai mappe. Se però nessuno ti ha insegnato una vera strategia, rischi di moltiplicare gli strumenti senza avere più chiarezza.'
                    },
                    'SH': {
                        parent: 'Più ore e più schemi: tanto impegno, tanta energia consumata, ma risultati che non crescono nella stessa misura. Non manca la buona volontà, manca un metodo che faccia pesare meno ogni singola ora di studio.',
                        student: 'Hai aumentato sia le ore sia il materiale: schemi, appunti, esercizi. Il problema è che, senza un metodo a monte, tutto questo rischia di aggiungere peso, non leggerezza.'
                    },
                    'RSH': {
                        parent: 'Avete già giocato tutte le carte “classiche”: ripetizioni, più ore, schemi. Se nonostante tutto la sensazione è di non avere il controllo, significa che non serve aggiungere altro: serve cambiare il modello.',
                        student: 'Hai provato un po’ di tutto: ripetizioni, più ore, schemi di ogni tipo. Se nonostante questo ti senti ancora in affanno, il punto non è fare “di più”, ma cambiare proprio il modo in cui affronti studio e prove.'
                    },
                    'N': {
                        parent: 'Non avete ancora provato nessuna strada strutturata: paradossalmente è una buona notizia. Possiamo costruire da subito un metodo sensato, senza dover prima “disimparare” abitudini poco utili.',
                        student: 'Finora hai improvvisato senza una vera strategia: paradossalmente è una buona notizia. Possiamo impostare un metodo da zero, senza dover prima smontare abitudini che non funzionano.'
                    }
                },

                goalsOptions: [
                    { id: 'autonomia', label: 'Più autonomia', promise: 'Che possa (o tu possa) organizzare lo studio senza controllo continuo e senza dipendere sempre da qualcuno che “sprona”.' },
                    { id: 'ansia', label: 'Meno ansia', promise: 'Affrontare prove orali e scritte con più sicurezza, sapendo di avere un metodo su cui appoggiarsi.' },
                    { id: 'voti', label: 'Voti più stabili', promise: 'Ridurre al minimo le montagne russe: risultati più coerenti con l’impegno e meno sorprese negative.' },
                    { id: 'esposizione', label: 'Saper spiegare bene', promise: 'Riuscire a spiegare con parole proprie ciò che si è studiato, in modo chiaro e ordinato.' }
                ],

                init() {
                    window.addEventListener('scroll', () => {
                        this.showStickyCTA = window.scrollY > 600;
                    });
                },

                setRole(r) {
                    this.role = r;
                    this.selectedBlocks = [];
                    this.selectedAttempts = [];
                    this.selectedGoals = [];
                    this.formProblems = '';
                    this.formGoal = '';
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                    setTimeout(() => {
                        const el = document.getElementById('level-select');
                        if (el) el.scrollIntoView({ behavior: 'smooth' });
                    }, 400);
                },

                setLevel(level) {
                    this.selectedLevel = level;
                    setTimeout(() => {
                        const el = document.getElementById('step-blocks');
                        if (el) el.scrollIntoView({ behavior: 'smooth' });
                    }, 300);
                },

                levelLabelForHuman() {
                    if (!this.selectedLevel) return '';
                    if (this.selectedLevel === 'elementari') return 'le scuole elementari';
                    if (this.selectedLevel === 'medie') return 'le scuole medie';
                    if (this.selectedLevel === 'superiori') return 'le scuole superiori';
                    if (this.selectedLevel === 'universita') return "l'università";
                    return '';
                },

                toggleSelection(type, value) {
                    let arr;
                    if (type === 'blocks') arr = this.selectedBlocks;
                    if (type === 'goals') arr = this.selectedGoals;

                    if (!arr) return;

                    const idx = arr.indexOf(value);
                    if (idx > -1) {
                        arr.splice(idx, 1);
                    } else {
                        arr.push(value);
                    }

                    this.updateFormFields();
                },

                toggleAttempts(value) {
                    const nothing = 'Nulla, improvvisiamo';

                    if (value === nothing) {
                        if (this.selectedAttempts.includes(nothing)) {
                            this.selectedAttempts = [];
                        } else {
                            this.selectedAttempts = [nothing];
                        }
                    } else {
                        // se seleziono qualcosa di diverso da "nulla", tolgo "nulla"
                        this.selectedAttempts = this.selectedAttempts.filter(v => v !== nothing);

                        const idx = this.selectedAttempts.indexOf(value);
                        if (idx > -1) {
                            this.selectedAttempts.splice(idx, 1);
                        } else {
                            this.selectedAttempts.push(value);
                        }
                    }
                },

                getBlocksKey() {
                    return [...this.selectedBlocks].sort().join('_');
                },

                // Costruisce titolo + sintomi in base a ruolo + blocchi
                getCurrentBlockConfig() {
                    if (!this.selectedBlocks.length) return null;

                    const key = this.selectedBlocks.length === 1
                        ? this.selectedBlocks[0]
                        : this.getBlocksKey();

                    const base = this.selectedBlocks.length === 1
                        ? this.blocksInfoSingles[key]
                        : this.blocksInfoCombos[key];

                    if (!base) return null;

                    const title = this.role === 'genitore' ? base.titleParent : base.titleStudent;
                    const symptoms = this.role === 'genitore' ? base.symptomsParent : base.symptomsStudent;

                    return { title, symptoms, base };
                },

                getLevelSolutionTail() {
                    if (!this.selectedLevel) return '';

                    if (this.selectedLevel === 'universita') {
                        return ' In pratica, colleghiamo questo lavoro direttamente a esami, appelli e tesi, così lo studio non resta astratto ma diventa risultati concreti.';
                    }
                    if (this.selectedLevel === 'superiori') {
                        return ' Questo si traduce in verifiche, interrogazioni ed eventuale esame di maturità affrontati con più sicurezza e meno improvvisazione.';
                    }
                    if (this.selectedLevel === 'medie') {
                        return ' Così verifiche e interrogazioni non sono più un salto nel vuoto, ma la conseguenza logica di come studia ogni settimana.';
                    }
                    // elementari
                    return ' A questa età significa rendere compiti e piccole prove più gestibili, costruendo fiducia invece che solo paura di sbagliare.';
                },

                getStickySummary() {
                    if (!this.selectedBlocks.length) return '...';
                    return this.selectedBlocks
                        .map(id => this.blocksOptions.find(o => o.id === id)?.label || '')
                        .filter(Boolean)
                        .join(', ')
                        .substring(0, 40) + '...';
                },

                get attemptsCopy() {
                    if (!this.selectedAttempts.length) return '';

                    const codes = this.selectedAttempts
                        .map(a => this.attemptsMap[a])
                        .filter(Boolean)
                        .sort()
                        .join('');

                    const key = codes || 'N';
                    const entry = this.attemptsTexts[key] || this.attemptsTexts['N'];

                    return this.role === 'genitore'
                        ? entry.parent
                        : entry.student;
                },

                updateFormFields() {
                    // Problemi: etichette dei blocchi selezionati
                    if (this.selectedBlocks.length > 0) {
                        const labels = this.selectedBlocks
                            .map(id => this.blocksOptions.find(o => o.id === id)?.label)
                            .filter(Boolean);
                        this.formProblems = labels.join(', ');
                    } else {
                        if (!this.formProblems) this.formProblems = '';
                    }

                    // Obiettivo principale: tutte le goals selezionate
                    if (this.selectedGoals.length > 0) {
                        const labels = this.selectedGoals
                            .map(id => this.goalsOptions.find(g => g.id === id)?.label)
                            .filter(Boolean);
                        this.formGoal = labels.join(' / ');
                    } else {
                        if (!this.formGoal) this.formGoal = '';
                    }
                },

                scrollToForm() {
                    const el = document.getElementById('contatto');
                    if (el) el.scrollIntoView({ behavior: 'smooth' });
                },

                get currentBlockTitle() {
                    const cfg = this.getCurrentBlockConfig();
                    return cfg ? cfg.title : '';
                },

                get currentBlockSymptoms() {
                    const cfg = this.getCurrentBlockConfig();
                    return cfg ? cfg.symptoms : [];
                },

                get currentBlockSolution() {
                    const cfg = this.getCurrentBlockConfig();
                    if (!cfg) return '';
                    const baseSolution = this.role === 'genitore'
                        ? cfg.base.solutionParent
                        : cfg.base.solutionStudent;
                    return baseSolution + this.getLevelSolutionTail();
                },

                get whatsappLink() {
                    const phone = "391234567890"; // da sostituire con numero reale in formato internazionale
                    let text = `Ciao Dolores, sono un ${this.role || 'interessato'}`;

                    if (this.selectedLevel) {
                        text += ` (livello: ${this.levelLabelForHuman()})`;
                    }
                    if (this.formProblems) {
                        text += `. Ho difficoltà su: ${this.formProblems}`;
                    }
                    if (this.formGoal) {
                        text += `. Il mio obiettivo principale: ${this.formGoal}`;
                    }
                    text += '. Vorrei prenotare la prima sessione gratuita.';

                    return `https://wa.me/${phone}?text=${encodeURIComponent(text)}`;
                },

                submitForm() {
                    // MVP: simulazione invio + apertura WhatsApp
                    alert("Richiesta inviata. In un sito reale i dati verrebbero registrati e riceveresti una conferma. Ora apro WhatsApp per completare il contatto.");
                    window.open(this.whatsappLink, '_blank');
                }
            }
        }
    </script>
</body>
</html>