            <!-- SEZIONE 2: DOVE TI BLOCCHI -->
            <section id="step-blocks" class="py-20 md:py-28 px-6">
                <div class="container mx-auto max-w-6xl grid md:grid-cols-2 gap-16 items-start">
                    <!-- colonna sinistra: scelte -->
                    <div>
                        <p class="text-xs font-semibold tracking-[0.22em] uppercase text-petrol/60 mb-3">
                            Passo 3 · Blocchi nello studio
                        </p>
                        <h2 class="font-serif text-4xl md:text-5xl mb-4 text-petrol">
                            <span x-text="role === 'genitore'
                                ? 'Dove si blocca di più tuo figlio quando studia?'
                                : 'Dove ti blocchi di più quando studi?'"></span>
                        </h2>
                        <p class="text-petrol/60 mb-8 uppercase tracking-[0.18em] text-xs font-semibold">
                            Puoi selezionare una o più opzioni
                        </p>

                        <div class="flex flex-col gap-3">
                            <template x-for="item in blocksOptions" :key="item.id">
                                <button
                                    @click="toggleSelection('blocks', item.id)"
                                    :class="selectedBlocks.includes(item.id)
                                        ? 'bg-coral text-white border-coral shadow-lg scale-[1.02]'
                                        : 'bg-transparent border-petrol/30 text-petrol hover:border-coral hover:text-coral'"
                                    class="text-left py-4 px-6 rounded-full border transition-all duration-200 flex items-center justify-between group">
                                    <span class="font-medium text-lg" x-text="item.label"></span>
                                    <span x-show="selectedBlocks.includes(item.id)" class="text-xl">✓</span>
                                </button>
                            </template>
                        </div>
                    </div>

                    <!-- colonna destra: insight -->
                    <div class="sticky top-32 bg-white p-8 md:p-10 rounded-2xl shadow-xl border border-petrol/5 min-h-[320px] flex flex-col justify-center relative overflow-hidden">
                        <div class="absolute top-0 right-0 w-32 h-32 bg-accent/20 rounded-bl-full -z-0"></div>

                        <template x-if="selectedBlocks.length === 0">
                            <div class="text-center text-petrol/50 relative z-10">
                                <svg class="w-12 h-12 mx-auto mb-4 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                          d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                                <p>Seleziona almeno un blocco per vedere cosa succede di solito e come posso intervenire.</p>
                            </div>
                        </template>

                        <template x-if="selectedBlocks.length > 0">
                            <div class="relative z-10" x-transition.opacity>
                                <span class="text-xs font-bold tracking-[0.24em] text-coral uppercase mb-2 block">
                                    Cosa succede di solito
                                </span>
                                <h3 class="font-serif text-2xl mb-4 text-petrol" x-text="currentBlockTitle"></h3>
                                <ul class="space-y-2 mb-8">
                                    <template x-for="(point, idx) in currentBlockSymptoms" :key="idx">
                                        <li class="flex items-start gap-3 text-petrol/80">
                                            <span class="text-coral mt-1.5 text-xs">●</span>
                                            <span x-text="point"></span>
                                        </li>
                                    </template>
                                </ul>

                                <div class="border-t border-petrol/10 pt-6">
                                    <span class="text-xs font-bold tracking-[0.24em] text-petrol/60 uppercase mb-2 block">
                                        Il mio intervento
                                    </span>
                                    <p class="text-petrol italic font-serif text-lg leading-relaxed"
                                       x-text="currentBlockSolution"></p>
                                </div>
                            </div>
                        </template>
                    </div>
                </div>
            </section>
